# üß† AutoPsych - Telegram-–±–æ—Ç –ø—Å–∏—Ö–æ–ª–æ–≥–∏—á–µ—Å–∫–æ–π –ø–æ–¥–¥–µ—Ä–∂–∫–∏

–ß–∞—Ç-–±–æ—Ç –≤ Telegram –¥–ª—è –ø—Å–∏—Ö–æ–ª–æ–≥–∏—á–µ—Å–∫–æ–π –ø–æ–¥–¥–µ—Ä–∂–∫–∏ —Å –ø–ª–∞—Ç–Ω–æ–π –ø–æ–¥–ø–∏—Å–∫–æ–π, –∏—Å–ø–æ–ª—å–∑—É—é—â–∏–π –ø—Å–∏—Ö–æ–∞–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–∏–π –∏–Ω—Ç–µ–≥—Ä–∞—Ç–∏–≤–Ω—ã–π –ø–æ–¥—Ö–æ–¥.

## ‚ú® –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- **–ú—É–ª—å—Ç–∏—è–∑—ã—á–Ω–æ—Å—Ç—å**: –†—É—Å—Å–∫–∏–π, English, Fran√ßais
- **–ü—Å–∏—Ö–æ–∞–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–¥—Ö–æ–¥**: –§—Ä–µ–π–¥, –õ–∞–∫–∞–Ω, –Æ–Ω–≥, –ö–ª—è–π–Ω, –í–∏–Ω–Ω–∏–∫–æ—Ç—Ç, –ë–∏–æ–Ω, –ö–æ—Ö—É—Ç, –ö–µ—Ä–Ω–±–µ—Ä–≥, –ú–∞–∫–í–∏–ª—å—è–º—Å, –†–∞–∫–∞–º—å–µ
- **–ü–æ–ª–∏–≤–∞–≥–∞–ª—å–Ω–∞—è —Ç–µ–æ—Ä–∏—è**: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Ç–µ–ª–æ-–ø—Å–∏—Ö–∏–∫–∞
- **–ò–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏—è —Å–Ω–æ–≤**: –ü–æ –º–µ—Ç–æ–¥—É –Æ–Ω–≥–∞
- **–°–∏—Å—Ç–µ–º–∞ –ø–æ–¥–ø–∏—Å–æ–∫**: –ë–µ—Å–ø–ª–∞—Ç–Ω—ã–π –ª–∏–º–∏—Ç + –ø–ª–∞—Ç–Ω—ã–π –±–µ–∑–ª–∏–º–∏—Ç
- **–û–ø–ª–∞—Ç–∞ –∫—Ä–∏–ø—Ç–æ–π**: TON/USDT

## üìä –¢–∞—Ä–∏—Ñ—ã

| –ü–ª–∞–Ω | –¶–µ–Ω–∞ | –ü–µ—Ä–∏–æ–¥ |
|------|------|--------|
| –ë–µ—Å–ø–ª–∞—Ç–Ω–æ | $0 | 3 —Å–æ–æ–±—â–µ–Ω–∏—è/–¥–µ–Ω—å |
| –ú–µ—Å—è—á–Ω—ã–π | $20 | 30 –¥–Ω–µ–π |
| –ì–æ–¥–æ–≤–æ–π | $168 | 365 –¥–Ω–µ–π (—Å–∫–∏–¥–∫–∞ 30%) |

## üöÄ –£—Å—Ç–∞–Ω–æ–≤–∫–∞

### 1. –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Python 3.11+
- PostgreSQL
- Telegram Bot Token (–æ—Ç @BotFather)
- API –∫–ª—é—á (Anthropic –∏–ª–∏ OpenAI)

### 2. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ —É—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
cd autopsych
python -m venv venv
source venv/bin/activate  # Windows: venv\Scripts\activate
pip install -r requirements.txt
```

### 3. –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö PostgreSQL

```bash
# –°–æ–∑–¥–∞–Ω–∏–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
createdb autopsych

# –ò–ª–∏ —á–µ—Ä–µ–∑ psql
psql -c "CREATE DATABASE autopsych;"
```

### 4. –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

```bash
cp .env.example .env
nano .env
```

–ó–∞–ø–æ–ª–Ω–∏—Ç–µ `.env`:

```env
# Telegram
TELEGRAM_BOT_TOKEN=your_bot_token

# Database
DATABASE_URL=postgresql+asyncpg://user:password@localhost:5432/autopsych

# AI
AI_PROVIDER=anthropic
ANTHROPIC_API_KEY=your_key

# Wallet –¥–ª—è –ø—Ä–∏—ë–º–∞ –ø–ª–∞—Ç–µ–∂–µ–π
WALLET_ADDRESS=your_ton_wallet_address
WALLET_CURRENCY=USDT

# –í–∞—à Telegram user_id –¥–ª—è –∞–¥–º–∏–Ω–∫–∏
ADMIN_USER_ID=123456789
```

### 5. –ó–∞–ø—É—Å–∫

```bash
python run.py
```

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
autopsych/
‚îú‚îÄ‚îÄ bot/
‚îÇ   ‚îú‚îÄ‚îÄ handlers/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ start.py          # /start, /help, /reset
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ subscription.py   # /subscribe, /status
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ admin.py          # /payments, /grant
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ chat.py           # AI-–¥–∏–∞–ª–æ–≥
‚îÇ   ‚îú‚îÄ‚îÄ models/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ user.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ subscription.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ payment.py
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ message.py
‚îÇ   ‚îú‚îÄ‚îÄ services/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ database.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ user_service.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ subscription_service.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ message_service.py
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ai_service.py
‚îÇ   ‚îú‚îÄ‚îÄ utils/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ keyboards.py
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ texts.py
‚îÇ   ‚îî‚îÄ‚îÄ main.py
‚îú‚îÄ‚îÄ prompts/
‚îÇ   ‚îî‚îÄ‚îÄ system_prompt.txt     # ‚≠ê –ü—Å–∏—Ö–æ—Ç–µ—Ä–∞–ø–µ–≤—Ç–∏—á–µ—Å–∫–∏–π –ø—Ä–æ–º–ø—Ç
‚îú‚îÄ‚îÄ config.py
‚îú‚îÄ‚îÄ run.py
‚îú‚îÄ‚îÄ requirements.txt
‚îî‚îÄ‚îÄ .env
```

## ü§ñ –ö–æ–º–∞–Ω–¥—ã –±–æ—Ç–∞

### –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ

| –ö–æ–º–∞–Ω–¥–∞ | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|----------|
| `/start` | –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ |
| `/subscribe` | –û—Ñ–æ—Ä–º–∏—Ç—å –ø–æ–¥–ø–∏—Å–∫—É |
| `/status` | –°—Ç–∞—Ç—É—Å –ø–æ–¥–ø–∏—Å–∫–∏ |
| `/reset` | –°–±—Ä–æ—Å–∏—Ç—å –¥–∏–∞–ª–æ–≥ |
| `/help` | –ü–æ–º–æ—â—å |

### –ê–¥–º–∏–Ω—Å–∫–∏–µ

| –ö–æ–º–∞–Ω–¥–∞ | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|----------|
| `/payments` | –°–ø–∏—Å–æ–∫ –æ–∂–∏–¥–∞—é—â–∏—Ö –ø–ª–∞—Ç–µ–∂–µ–π |
| `/grant <user_id> <plan>` | –í—ã–¥–∞—Ç—å –ø–æ–¥–ø–∏—Å–∫—É –≤—Ä—É—á–Ω—É—é |

## üí≥ –°–ø–æ—Å–æ–±—ã –æ–ø–ª–∞—Ç—ã

### üí≥ –ë–∞–Ω–∫–æ–≤—Å–∫–∞—è –∫–∞—Ä—Ç–∞ (Telegram Payments)
1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: `/subscribe`
2. –í—ã–±–∏—Ä–∞–µ—Ç –ø–ª–∞–Ω ‚Üí "–ë–∞–Ω–∫–æ–≤—Å–∫–∞—è –∫–∞—Ä—Ç–∞"
3. –ü–æ—è–≤–ª—è–µ—Ç—Å—è –Ω–∞—Ç–∏–≤–Ω–∞—è —Ñ–æ—Ä–º–∞ –æ–ø–ª–∞—Ç—ã Telegram
4. –í–≤–æ–¥–∏—Ç –¥–∞–Ω–Ω—ã–µ –∫–∞—Ä—Ç—ã
5. **–ü–æ–¥–ø–∏—Å–∫–∞ –∞–∫—Ç–∏–≤–∏—Ä—É–µ—Ç—Å—è –º–≥–Ω–æ–≤–µ–Ω–Ω–æ** ‚úÖ

### ü™ô –ö—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç–∞ (USDT/TON)
1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: `/subscribe`
2. –í—ã–±–∏—Ä–∞–µ—Ç –ø–ª–∞–Ω ‚Üí "–ö—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç–∞"
3. –ü–æ–ª—É—á–∞–µ—Ç **QR-–∫–æ–¥** –∏ –∞–¥—Ä–µ—Å –∫–æ—à–µ–ª—å–∫–∞
4. –°–∫–∞–Ω–∏—Ä—É–µ—Ç –∏–ª–∏ –∫–æ–ø–∏—Ä—É–µ—Ç, –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Å—Ä–µ–¥—Å—Ç–≤–∞
5. –ù–∞–∂–∏–º–∞–µ—Ç "–Ø –æ–ø–ª–∞—Ç–∏–ª(–∞)"
6. **–°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –±–ª–æ–∫—á–µ–π–Ω** (–∫–∞–∂–¥—ã–µ 30 —Å–µ–∫)
7. **–ü–æ–¥–ø–∏—Å–∫–∞ –∞–∫—Ç–∏–≤–∏—Ä—É–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏** ‚úÖ

–ù–∏–∫–∞–∫–æ–≥–æ —Ä—É—á–Ω–æ–≥–æ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è!

## üß† –¢–µ—Ä–∞–ø–µ–≤—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–¥—Ö–æ–¥

–ü—Ä–æ–º–ø—Ç (`prompts/system_prompt.txt`) –≤–∫–ª—é—á–∞–µ—Ç:

### –ü—Å–∏—Ö–æ–∞–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–∏–µ —à–∫–æ–ª—ã
- **–ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∞—è**: –§—Ä–µ–π–¥ (–±–µ—Å—Å–æ–∑–Ω–∞—Ç–µ–ª—å–Ω–æ–µ, –∑–∞—â–∏—Ç—ã, –ø–µ—Ä–µ–Ω–æ—Å)
- **–õ–∞–∫–∞–Ω**: –¢—Ä–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞ (–†–µ–∞–ª—å–Ω–æ–µ, –°–∏–º–≤–æ–ª–∏—á–µ—Å–∫–æ–µ, –í–æ–æ–±—Ä–∞–∂–∞–µ–º–æ–µ), –ª–æ–≥–∏–∫–∞ –∂–µ–ª–∞–Ω–∏—è
- **–û–±—ä–µ–∫—Ç–Ω—ã–µ –æ—Ç–Ω–æ—à–µ–Ω–∏—è**: –ö–ª—è–π–Ω, –í–∏–Ω–Ω–∏–∫–æ—Ç—Ç, –ë–∏–æ–Ω
- **–ù–∞—Ä—Ü–∏—Å—Å–∏–∑–º**: –ö–æ—Ö—É—Ç, –ö–µ—Ä–Ω–±–µ—Ä–≥, –†–æ–∑–µ–Ω—Ñ–µ–ª—å–¥, –†–∞–∫–∞–º—å–µ

### –°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ —Ç–µ—Ö–Ω–∏–∫–∏
- –ò–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏—è —Å–Ω–æ–≤ –ø–æ –Æ–Ω–≥—É (–∞–º–ø–ª–∏—Ñ–∏–∫–∞—Ü–∏—è)
- –ü–æ–ª–∏–≤–∞–≥–∞–ª—å–Ω–∞—è —Ä–µ–≥—É–ª—è—Ü–∏—è (–ü–æ—Ä–¥–∂–µ—Å)
- –†–∞–±–æ—Ç–∞ —Å –Ω–∞—Ä—Ü–∏—Å—Å–∏—á–µ—Å–∫–æ–π —É—è–∑–≤–∏–º–æ—Å—Ç—å—é
- –†–∞–∑–ª–∏—á–µ–Ω–∏–µ —Ç—Ä–µ–≤–æ–≥–∏: –¥–æ–æ–±—ä–µ–∫—Ç–Ω–∞—è, –∫–∞—Å—Ç—Ä–∞—Ü–∏–æ–Ω–Ω–∞—è, –°–≤–µ—Ä—Ö-–Ø
- –í–∏–Ω–∞ vs —Å—Ç—ã–¥

### –¢–µ—Ä–∞–ø–µ–≤—Ç–∏—á–µ—Å–∫–∞—è –ø–æ–∑–∏—Ü–∏—è
- –°–æ–∑–¥–∞–Ω–∏–µ –ø–µ—Ä–µ–Ω–æ—Å–∞
- –£—Å–ø–æ–∫–∞–∏–≤–∞—é—â–∏–π —Ä–∏—Ç–º —Ä–µ—á–∏
- –≠—Ç–∏–∫–∞ —Ä–∞–±–æ—Ç—ã —Å —Ö—Ä—É–ø–∫–∏–º–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞–º–∏

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è

- –ë–æ—Ç –ù–ï –∑–∞–º–µ–Ω—è–µ—Ç —Ä–µ–∞–ª—å–Ω–æ–≥–æ —Ç–µ—Ä–∞–ø–µ–≤—Ç–∞
- –î–µ—Ç–µ–∫—Ü–∏—è –∫—Ä–∏–∑–∏—Å–Ω—ã—Ö —Å–∏—Ç—É–∞—Ü–∏–π —Å —Ä–µ—Å—É—Ä—Å–∞–º–∏ –ø–æ–º–æ—â–∏
- –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è –æ–±—Ä–∞—â–µ–Ω–∏—è –∫ —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç—É

## üìù –õ–∏—Ü–µ–Ω–∑–∏—è

–ü—Ä–æ–µ–∫—Ç –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω –¥–ª—è –æ–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω—ã—Ö —Ü–µ–ª–µ–π. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –¥–ª—è —Ä–µ–∞–ª—å–Ω–æ–π –ø—Å–∏—Ö–æ–ª–æ–≥–∏—á–µ—Å–∫–æ–π –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –¥–æ–ª–∂–Ω–æ –æ—Å—É—â–µ—Å—Ç–≤–ª—è—Ç—å—Å—è –ø–æ–¥ –Ω–∞–±–ª—é–¥–µ–Ω–∏–µ–º –∫–≤–∞–ª–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–∞.

---

–†–∞–∑—Ä–∞–±–æ—Ç–∞–Ω–æ —Å üíô –¥–ª—è –¥–æ—Å—Ç—É–ø–Ω–æ–π –ø—Å–∏—Ö–æ–ª–æ–≥–∏—á–µ—Å–∫–æ–π –ø–æ–¥–¥–µ—Ä–∂–∫–∏.
